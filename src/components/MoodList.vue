<template>
  <div>
    <h2>–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∫–æ—Ç—è–∫–∞</h2>
    <input class="input" v-model="name" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è –∫–æ—Ç–∏–∫–∞" />

    <p v-if="isHappy">{{ name }} —Å–µ–π—á–∞—Å {{ currentMood }} üò∫</p>
    <p v-else>{{ name }} —Å–µ–π—á–∞—Å {{ currentMood }} üòø</p>

    <button @click="toggleMood">–ü–æ–º–µ–Ω—è—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</button>

    <h3>–ò—Å—Ç–æ—Ä–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π:</h3>
    <ul>
      <li v-for="(m, i) in moodHistory" :key="i">{{ m }}</li>
    </ul>
  </div>
</template>

<script setup>
import { ref } from 'vue'

const moods = ref(['–°—á–∞—Å—Ç–ª–∏–≤', '–ì—Ä—É—Å—Ç—å', '–ó–ª–æ—Å—Ç—å', '–£–¥–∏–≤–ª–µ–Ω–∏–µ', '–°—Ç—Ä–∞—Ö', '–û—Ç–≤—Ä–∞—â–µ–Ω–∏–µ'])
const name = ref('–ö–æ—Ç—è–∫')
const isHappy = ref(true)
const currentMood = ref(moods.value[0])
const moodHistory = ref([currentMood.value])

function toggleMood() {
  isHappy.value = !isHappy.value
  const randomIndex = Math.floor(Math.random() * moods.value.length)
  currentMood.value = moods.value[randomIndex]
  moodHistory.value.push(currentMood.value)
}
</script>

<style scoped>
.input {
  /* height: 6em;
  padding: 1.5em; */
  border-radius: 2px;
  will-change: filter;
  transition: filter 300ms;
}
.input:hover {
  filter: drop-shadow(0 0 2em #646cffaa);
}
.input.vue:hover {
  filter: drop-shadow(0 0 2em #42b883aa);
}
</style>